/*! OpenCrisp BaseJS - v0.6.1 - 2016-02-22
* https://github.com/OpenCrisp/Crisp.BaseJS
* Copyright (c) 2016 Fabian Schmid; Licensed MIT */
!function(a){function b(a,b,c){var d=c.args;void 0===d&&(d=c),d=[].concat(d),a.apply(b,d),"function"==typeof c.complete&&c.complete.apply(b,d)}function c(a){var b=f.call(a).replace(g,"$1");return-1!==["global","Null","DOMWindow","Window"].indexOf(b)&&(b="Undefined"),b}function d(a,b){return"field"===b?d(a,"String")||d(a,"Number")||d(a,"Boolean")||d(a,"Date")||d(a,"RegExp"):c(a)===b}function e(a,b,c){return"undefined"==typeof c||0===+c?Math[a](b):(b=+b,c=+c,isNaN(b)||"number"!=typeof c||c%1!==0?NaN:(b=b.toString().split("e"),b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-c:-c))),b=b.toString().split("e"),+(b[0]+"e"+(b[1]?+b[1]+c:c))))}var f=Object.prototype.toString,g=/^\[object ([a-z]+)\]$/i;a.Crisp={ns:function(a,b){var c,d=a.split("."),e=this;c=d.length-1;for(var f=0,g=c;g>f;f+=1)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b){if(!this.isType(e[d[c]],"Undefined"))throw new Error("Can't overwrite '"+a+"' of defined!");e[d[c]]=b}else"undefined"==typeof e[d[c]]&&(e[d[c]]={});return e[d[c]]},utilTick:function(c,d,e,f){return e=e||{},c=c||e.self,e.async&&(f=!0,delete e.async),f?(a.Crisp.nextTick(b,d,c,e),c):(b(d,c,e),c)},toType:c,isType:d,to:function(){return JSON.stringify(this)},parse:function(){return JSON.parse(this.toString())},type:function(a){return a?d(this,a):c(this)},toMath:function(a){return Math[a].call(Math,this)},math:function(a){var b=[this];return arguments.xEach({start:1},function(a){b.push(a)}),Math[a].apply(Math,b)},toJson:function(a){return a?JSON.stringify(this,null,"	"):JSON.stringify(this)},parseJson:function(){return JSON.parse(this.toString())}},Math.round10||(Math.round10=function(a,b){return e("round",a,b)}),Math.floor10||(Math.floor10=function(a,b){return e("floor",a,b)}),Math.ceil10||(Math.ceil10=function(a,b){return e("ceil",a,b)})}("undefined"!=typeof process&&"undefined"!=typeof process.title&&"undefined"!=typeof global?global:window),function(a){a.ns("util.control.Break",function(){}),a.ns("util.control.End",function(){})}(Crisp),function(a){function b(a,b,c,d,e){a.call(b,c,d),e.call(b,c)}function c(a,c){function d(c,d,g){var h;return c.async&&(h=c.async,delete c.async),d=d||c.success||e,g=g||c.complete||e,h?f(b,a,this,c,d,g):(a.call(this,c,d),g.call(this,c)),this}return Object.defineProperty(d,"tick",{value:c||!0}),Object.defineProperty(d,"callback",{value:a}),d}function d(a,b){var c,d={};if(Crisp.type.call(b[0],"Object"))return b[0];a=a||[];for(var e=0,f=b.length;f>e;e+=1)c=a[e]||e,d[c]=b[e];return d}var e=a.ns("util.control.Break"),f=function(){return"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:"function"==typeof setImmediate?setImmediate:function(a){return setTimeout.apply(null,[a,0].concat(Array.prototype.slice.call(arguments).slice(1)))}}();a.nextTick=f,a.utilTack=c,a.callSchema=d}(Crisp),function(a){function b(){for(var c,d=0,e=arguments.length;e>d;d+=1)c=arguments[d],a.isType(c,"Array")?b.apply(this,c):void 0!==c&&this.push(c);return this}function c(a,b,c){var f,g=0,h=1,i=this.length,j=a.start?Number(a.start):0,k=void 0===a.limit?i:Number(a.limit);for(0>=k&&(k=i),0>j&&(j=i+j),j+k>i&&(k-=j+k-i),0>j&&(j=0,k=i),a.reverse&&(h=-1,j-=i+h);k>g;g+=1)try{f=(g+j)*h,b.call(a.self,this[f],f,c)}catch(l){if(!(l instanceof d)){if(l instanceof e||0>f)return this;throw l}a.reverse&&a.limit&&(k+=1)}return this}var d=a.ns("util.control.Break"),e=a.ns("util.control.End"),f=a.utilTack;Object.defineProperty(Array.prototype,"xAdd",{value:b}),a.xEachArray=c,Object.defineProperty(Array.prototype,"xEach",{value:f(c)})}(Crisp),function(a){Number.isInteger=Number.isInteger||function(b){return a.isType(b,"Number")&&isFinite(b)&&Math.floor(b)===b},Object.defineProperty(Number.prototype,"toMath",{value:a.toMath}),Object.defineProperty(Number.prototype,"xMath",{value:a.math})}(Crisp),function(a){function b(a,b,e){var f,g,h=Object.keys(this),i=0,j=1,k=h.length,l=a.start?Number(a.start):0,m=void 0===a.limit?k:Number(a.limit);for(0>=m&&(m=k),0>l&&(l=k+l),l+m>k&&(m-=l+m-k),0>l&&(l=0,m=k),a.reverse&&(j=-1,l-=k+j);m>i;i+=1)try{f=(i+l)*j,g=h[f],b.call(a.self,this[g],g,e)}catch(n){if(!(n instanceof c)){if(n instanceof d||0>f)return this;throw n}a.reverse&&a.limit&&(m+=1)}return this}var c=a.ns("util.control.Break"),d=a.ns("util.control.End"),e=a.utilTack;a.xEachObject=b,Object.defineProperty(Object.prototype,"xEach",{value:e(b)}),Object.defineProperty(Object.prototype,"xTo",{value:a.to}),Object.defineProperty(Object.prototype,"xType",{value:a.type}),Object.defineProperty(Object.prototype,"toURLParam",{value:function(){var b=[];return this.xEach({success:function(c,d){var e="";e=a.isType(c,"Object")?c.xTo():a.isType(c,"Array")?c.xTo():a.isType(c,"Boolean")?c.xTo():c.toString(),e=d.concat("=",e),b.push(e)}}),b.join("&")}})}(Crisp),function(a){var b=/[.*+?^${}()|[\]\\]/g;RegExp.escape=RegExp.escape||function(a){return a.replace(b,"\\$&")},Object.defineProperty(RegExp.prototype,"xTo",{value:function(){return a.to.call(this.toString())}})}(Crisp),function(a){Object.defineProperty(String.prototype,"toMath",{value:a.toMath}),Object.defineProperty(String.prototype,"xMath",{value:a.math}),Object.defineProperty(String.prototype,"xParse",{value:a.parse})}(Crisp);