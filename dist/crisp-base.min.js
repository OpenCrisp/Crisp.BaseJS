/*! OpenCrisp BaseJS - v0.3.0 - 2015-10-31
* https://github.com/OpenCrisp/Crisp.BaseJS
* Copyright (c) 2015 Fabian Schmid; Licensed MIT */
!function(a){function b(a,b,c){var d=c.args;void 0===d&&(d=c),d=[].concat(d),a.apply(b,d),"function"==typeof c.complete&&c.complete.apply(b,d)}function c(a){var b=e.call(a).replace(f,"$1");return-1!==["global","Null","DOMWindow"].indexOf(b)&&(b="Undefined"),b}function d(a,b){return"field"===b?d(a,"String")||d(a,"Number")||d(a,"Boolean")||d(a,"Date")||d(a,"RegExp"):c(a)===b}var e=Object.prototype.toString,f=/^\[object ([a-z]+)\]$/i;a.Crisp={ns:function(a,b){var c,d=a.split("."),e=this;c=d.length-1;for(var f=0,g=c;g>f;f+=1)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b){if(!this.isType(e[d[c]],"Undefined"))throw new Error("Can't overwrite '"+a+"' of defined!");e[d[c]]=b}else"undefined"==typeof e[d[c]]&&(e[d[c]]={});return e[d[c]]},utilTick:function(a,c,d,e){return d=d||{},a=a||d.self,e?setTimeout(b,0,c,a,d):b(c,a,d),a},toType:c,isType:d,to:function(){return JSON.stringify(this)},parse:function(){return JSON.parse(this.toString())},type:function(a){return a?d(this,a):c(this)},toMath:function(a){return Math[a].call(Math,this)},math:function(a){return Math[a].call(Math,this)},toJson:function(a){return a?JSON.stringify(this,null,"	"):JSON.stringify(this)},parseJson:function(){return JSON.parse(this.toString())}}}("undefined"!=typeof process&&"undefined"!=typeof process.title&&"undefined"!=typeof global?global:window),function(a){a.ns("util.control.Break",function(){}),a.ns("util.control.End",function(){})}(Crisp),function(a){function b(){for(var c,d=0,e=arguments.length;e>d;d+=1)c=arguments[d],a.isType(c,"Array")?b.apply(this,c):void 0!==c&&this.push(c);return this}function c(a){var b,c=0,f=1,g=this.length,h=a.start?Number(a.start):0,i=void 0===a.limit?g:Number(a.limit);for(0>=i&&(i=g),0>h&&(h=g+h),h+i>g&&(i-=h+i-g),0>h&&(h=0,i=g),a.reverse&&(f=-1,h-=g+f);i>c;c+=1)try{b=(c+h)*f,a.success.call(a.self,this[b],b)}catch(j){if(!(j instanceof d)){if(j instanceof e||0>b)return this;throw j}a.reverse&&a.limit&&(i+=1)}return this}var d=a.ns("util.control.Break"),e=a.ns("util.control.End");Object.defineProperty(Array.prototype,"xAdd",{value:b}),Object.defineProperty(Array.prototype,"xEach",{value:function(b){return a.utilTick(this,c,b,b.async)}})}(Crisp),function(a){Number.isInteger=Number.isInteger||function(b){return a.isType(b,"Number")&&isFinite(b)&&Math.floor(b)===b},Object.defineProperty(Number.prototype,"toMath",{value:a.toMath}),Object.defineProperty(Number.prototype,"xMath",{value:a.math})}(Crisp),function(a){function b(a){var b,e,f=Object.keys(this),g=0,h=1,i=f.length,j=a.start?Number(a.start):0,k=void 0===a.limit?i:Number(a.limit);for(0>=k&&(k=i),0>j&&(j=i+j),j+k>i&&(k-=j+k-i),0>j&&(j=0,k=i),a.reverse&&(h=-1,j-=i+h);k>g;g+=1)try{b=(g+j)*h,e=f[b],a.success.call(a.self,this[e],e)}catch(l){if(!(l instanceof c)){if(l instanceof d||0>b)return this;throw l}a.reverse&&a.limit&&(k+=1)}return this}var c=a.ns("util.control.Break"),d=a.ns("util.control.End");Object.defineProperty(Object.prototype,"xEach",{value:function(c){return a.utilTick(this,b,c,c.async)}}),Object.defineProperty(Object.prototype,"xTo",{value:a.to}),Object.defineProperty(Object.prototype,"xType",{value:a.type}),Object.defineProperty(Object.prototype,"toURLParam",{value:function(){var b=[];return this.xEach({success:function(c,d){var e="";e=a.isType(c,"Object")?c.xTo():a.isType(c,"Array")?c.xTo():a.isType(c,"Boolean")?c.xTo():c.toString(),e=d.concat("=",e),b.push(e)}}),b.join("&")}})}(Crisp),function(a){var b=/[.*+?^${}()|[\]\\]/g;RegExp.escape=RegExp.escape||function(a){return a.replace(b,"\\$&")},Object.defineProperty(RegExp.prototype,"xTo",{value:function(){return a.to.call(this.toString())}})}(Crisp),function(a){Object.defineProperty(String.prototype,"toMath",{value:a.toMath}),Object.defineProperty(String.prototype,"xMath",{value:a.math}),Object.defineProperty(String.prototype,"xParse",{value:a.parse})}(Crisp);