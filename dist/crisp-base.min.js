/*! OpenCrisp BaseJS - v0.7.3 - 2017-07-01
* https://github.com/OpenCrisp/Crisp.BaseJS
* Copyright (c) 2017 Fabian Schmid; Licensed [object Object] */

!function(t){function e(t){var e=o.call(t).replace(i,"$1");return-1!==c.indexOf(e)&&(e=h),e}function r(t,n){return"field"===n?r(t,f)||r(t,s)||r(t,a)||r(t,l)||r(t,p):e(t)===n}function n(t,e,n){var o=n.args;void 0===o&&(o=n),o=[].concat(o),t.apply(e,o),r(n.complete,u)&&n.complete.apply(e,o)}var o=Object.prototype.toString,i=/^\[object ([a-z]+)\]$/i,c=["global","Null","DOMWindow","Window"],a="Boolean",l="Date",u="Function",s="Number",p="RegExp",f="String",h="Undefined";t.Crisp={ns:function(t,e){for(var n,o=t.split("."),i=this,c=0,a=n=o.length-1;c<a;c+=1)i[o[c]]=i[o[c]]||{},i=i[o[c]];if(e){if(!r(i[o[n]],h))throw new Error("Can't overwrite '"+t+"' of defined!");i[o[n]]=e}else r(i[o[n]],h)&&(i[o[n]]={});return i[o[n]]},utilTick:function(e,r,o,i){return o=o||{},e=e||o.self,o.async&&(i=!0,delete o.async),i?(t.Crisp.nextTick(n,r,e,o),e):(n(r,e,o),e)},to:function(){return JSON.stringify(this)},parse:function(){return JSON.parse(this.toString())},type:function(t){return t?r(this,t):e(this)},math:function(t){var e=[this];return arguments.xEach({start:1},function(t){e.push(t)}),Math[t].apply(Math,e)}}}("undefined"!=typeof process&&void 0!==process.title&&"undefined"!=typeof global?global:window),function(t){t.ns("util.control.Break",function(){}),t.ns("util.control.End",function(){}),t.ns("util.control.Noop",function(){})}(Crisp),function(t){function e(t,e,r,n,o){t.call(e,r,n),o.call(e,r)}var r=t.ns("util.control.Break"),n="object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:"function"==typeof setImmediate?setImmediate:function(t){return setTimeout.apply(null,[t,0].concat(Array.prototype.slice.call(arguments).slice(1)))};t.nextTick=n,t.utilTack=function(t,o){function i(o,i,c){var a;return o.async&&(a=o.async,delete o.async),i=i||o.success||r,c=c||o.complete||r,a?n(e,t,this,o,i,c):(t.call(this,o,i),c.call(this,o)),this}return Object.defineProperty(i,"tick",{value:o||!0}),Object.defineProperty(i,"callback",{value:t}),i},t.callSchema=function(t,e){var r={};if(Crisp.type.call(e[0],"Object"))return e[0];t=t||[];for(var n=0,o=e.length;n<o;n+=1)r[t[n]||n]=e[n];return r}}(Crisp),function(t){function e(){for(var r,n=0,o=arguments.length;n<o;n+=1)r=arguments[n],t.type.call(r,"Array")?e.apply(this,r):void 0!==r&&this.push(r);return this}function r(t,e,r){var i,c=0,a=1,l=this.length,u=t.start?Number(t.start):0,s=void 0===t.limit?l:Number(t.limit);for(s<=0&&(s=l),u<0&&(u=l+u),u+s>l&&(s-=u+s-l),u<0&&(u=0,s=l),t.reverse&&(u-=l+(a=-1));c<s;c+=1)try{i=(c+u)*a,e.call(t.self,this[i],i,r)}catch(e){if(!(e instanceof n)){if(e instanceof o||i<0)return this;throw e}t.limit&&(t.reverse||i<l&&s<l)&&(s+=1)}return this}var n=t.ns("util.control.Break"),o=t.ns("util.control.End");Object.defineProperty(Array.prototype,"xAdd",{value:e}),t.xEachArray=r,Object.defineProperty(Array.prototype,"xEach",{value:t.utilTack(r)})}(Crisp),function(){function t(t,e,r){return void 0===r||0==+r?Math[t](e):(e=+e,r=+r,isNaN(e)||"number"!=typeof r||r%1!=0?NaN:(e=e.toString().split("e"),e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-r:-r))),+((e=e.toString().split("e"))[0]+"e"+(e[1]?+e[1]+r:r))))}Math.round10||(Math.round10=function(e,r){return t("round",e,r)}),Math.floor10||(Math.floor10=function(e,r){return t("floor",e,r)}),Math.ceil10||(Math.ceil10=function(e,r){return t("ceil",e,r)})}(Crisp),function(t){Number.isInteger=Number.isInteger||function(e){return t.type.call(e,"Number")&&isFinite(e)&&Math.floor(e)===e},Object.defineProperty(Number.prototype,"xMath",{value:t.math})}(Crisp),function(t){function e(t,e,o){var i,c,a=Object.keys(this),l=0,u=1,s=a.length,p=t.start?Number(t.start):0,f=void 0===t.limit?s:Number(t.limit);for(f<=0&&(f=s),p<0&&(p=s+p),p+f>s&&(f-=p+f-s),p<0&&(p=0,f=s),t.reverse&&(p-=s+(u=-1));l<f;l+=1)try{c=a[i=(l+p)*u],e.call(t.self,this[c],c,o)}catch(e){if(!(e instanceof r)){if(e instanceof n||i<0)return this;throw e}t.limit&&(t.reverse||i<s&&f<s)&&(f+=1)}return this}var r=t.ns("util.control.Break"),n=t.ns("util.control.End");t.xEachObject=e,Object.defineProperty(Object.prototype,"xEach",{value:t.utilTack(e)}),Object.defineProperty(Object.prototype,"xTo",{value:t.to}),Object.defineProperty(Object.prototype,"xType",{value:t.type}),Object.defineProperty(Object.prototype,"toURLParam",{value:function(){var e=[];return this.xEach({},function(r,n){var o="";o=t.type.call(r,"Object")?r.xTo():t.type.call(r,"Array")?r.xTo():t.type.call(r,"Boolean")?r.xTo():r.toString(),o=n.concat("=",o),e.push(o)}),e.join("&")}})}(Crisp),function(t){var e=/[.*+?^${}()|[\]\\]/g;RegExp.escape=RegExp.escape||function(t){return t.replace(e,"\\$&")},Object.defineProperty(RegExp.prototype,"xTo",{value:function(){return t.to.call(this.toString())}})}(Crisp),function(t){Object.defineProperty(String.prototype,"toMath",{value:t.toMath}),Object.defineProperty(String.prototype,"xMath",{value:t.math}),Object.defineProperty(String.prototype,"xParse",{value:t.parse})}(Crisp);